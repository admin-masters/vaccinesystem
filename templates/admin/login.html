{% extends "admin/base_site.html" %}
{% load i18n static %}

{# Hide admin chrome blocks #}
{% block nav-sidebar %}{% endblock %}
{% block breadcrumbs %}{% endblock %}

{% block extrastyle %}
{{ block.super }}
<style>
/* Page chrome off */
#header, #nav-sidebar, .breadcrumbs, .sidebar-toggle { display: none !important; }
#content { margin-left: 0 !important; padding: 0; }
#container { grid-template-columns: 1fr !important; }
body.login { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }

/* Card */
.login-container { background: #fff; border-radius: 12px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.12); max-width: 420px; margin: 10vh auto; }
.login-header { text-align: center; margin-bottom: 24px; }
.login-logo { background: #8b5cf6; color: #fff; width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; font-size: 24px; font-weight: 800; }

.form-row { margin-bottom: 16px; }
.form-row label { display: block; margin-bottom: 8px; font-weight: 600; color: #374151; }
.form-row input[type="text"], .form-row input[type="password"] { width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 15px; box-sizing: border-box; background: #fff; }
.form-row input:focus { border-color: #8b5cf6; outline: none; box-shadow: 0 0 0 3px rgba(52,152,219,.15); }

.submit-row { margin-top: 20px; }
.submit-row input { background: #8b5cf6; color: #fff; border: none; padding: 12px 16px; border-radius: 10px; font-size: 16px; cursor: pointer; width: 100%; font-weight: 700; }
.submit-row input:hover { background: #8b5cf6; }

.errornote { background: #e74c3c; color: #fff; padding: 10px; border-radius: 8px; margin-bottom: 16px; }
</style>
{% endblock %}

{% block content %}
<div class="login-container">
  <div class="login-header">
    <div class="login-logo">VA</div>
    <h1>Vaccination Partner Portal</h1>
    <p>Admin Login</p>
  </div>

  {% if form.errors and not form.non_field_errors %}
  <p class="errornote">Please correct the errors below.</p>
  {% endif %}

  {% if form.non_field_errors %}
    {% for error in form.non_field_errors %}
      <p class="errornote">{{ error }}</p>
    {% endfor %}
  {% endif %}

  <form action="{{ app_path }}?next=/partners/new/" method="post" id="login-form">
    {% csrf_token %}

    <div class="form-row">
      {{ form.username.label_tag }}
      {{ form.username }}
    </div>

    <div class="form-row">
      {{ form.password.label_tag }}
      {{ form.password }}
      <input type="hidden" name="next" value="/partners/new/">
    </div>

    <div class="submit-row">
      <input type="submit" value="Log In">
    </div>
  </form>
</div>
{% endblock %}